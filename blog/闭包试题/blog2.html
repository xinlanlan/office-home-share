<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
	</body>
	<script type="text/javascript">
		function fun(n, o) {
			console.log(o)
			return {
				fun: function(m) {
					return fun(m, n);
				}
			};
		};
		var a = fun(0); //undefined
		a.fun(1); 		//0
		a.fun(2); 		//0
		a.fun(3);		//0
		
		var b = fun(0).fun(1).fun(2).fun(3);		//undefined,0,1,2
		
		var c = fun(0).fun(1); //undefined,0
		c.fun(2); 	//1
		c.fun(3);	//1
		
		//获取函数名称的函数
		function getFunctionName(fun) {
			if(fun.name !== undefined)
				return fun.name;
			var ret = fun.toString();
			ret = ret.substr('function '.length);
			ret = ret.substr(0, ret.indexOf('('));
			return ret;
		};
	</script>

</html>